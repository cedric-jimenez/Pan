# Database (Vercel Postgres)
# Get from: https://vercel.com/dashboard -> Storage -> Create Database -> Postgres
POSTGRES_URL="postgresql://..."
POSTGRES_PRISMA_URL="postgresql://..."
POSTGRES_URL_NO_SSL="postgresql://..."
POSTGRES_URL_NON_POOLING="postgresql://..."
POSTGRES_USER="default"
POSTGRES_HOST="..."
POSTGRES_PASSWORD="..."
POSTGRES_DATABASE="verceldb"

# For Prisma (use POSTGRES_PRISMA_URL value)
DATABASE_URL="${POSTGRES_PRISMA_URL}"
DIRECT_URL="${POSTGRES_URL_NON_POOLING}"

# NextAuth Configuration
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth (for Google Sign-In)
# Get from: https://console.cloud.google.com/apis/credentials
# 1. Create a new OAuth 2.0 Client ID
# 2. Add authorized redirect URIs:
#    - http://localhost:3000/api/auth/callback/google (dev)
#    - https://your-domain.com/api/auth/callback/google (prod)
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Cloudflare R2 Storage
# Get from: https://dash.cloudflare.com/ -> R2 Object Storage
# 1. Create a bucket
# 2. Set up a custom domain or use the R2.dev subdomain for public access
# 3. Create an API token with read/write permissions
R2_ACCOUNT_ID="your-cloudflare-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key-id"
R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
R2_BUCKET_NAME="your-bucket-name"
R2_PUBLIC_URL="https://your-public-bucket-url"

# Local Development Only (for SQLite fallback)
# DATABASE_URL="file:./dev.db"

# Logging Configuration
# Enable logging in production (logs are always enabled in development)
# Set to "true" to enable logging in production environments (e.g., Vercel)
ENABLE_LOGGING="true"

# Log level: error, warn, info, debug (default: info)
# error: Only errors
# warn: Errors and warnings
# info: Errors, warnings, and info logs (includes API calls)
# debug: All logs including debug messages
LOG_LEVEL="info"

# Rate Limiting Configuration
# All values are configurable via environment variables (defaults shown)
RATE_LIMIT_REGISTER="5"        # Max registration attempts per 15 minutes (by IP)
RATE_LIMIT_LOGIN="10"          # Max login attempts per 15 minutes (by IP)
RATE_LIMIT_UPLOAD_HOURLY="60"  # Max photo uploads per hour (by user)
RATE_LIMIT_UPLOAD_DAILY="200"  # Max photo uploads per day (by user)
RATE_LIMIT_MODIFY="100"        # Max photo modifications per hour (by user)
RATE_LIMIT_BULK_DELETE="20"    # Max bulk deletions per hour (by user)
RATE_LIMIT_GLOBAL="200"        # Max requests per minute (by IP)

# Image Processing Configuration
# Size (in pixels) for segmented images used for embedding generation
# Higher values may improve embedding quality but increase processing time
# Default: 400 (same as CROPPED_IMAGE_SIZE in constants.ts)
SEGMENTED_IMAGE_SIZE="400"
